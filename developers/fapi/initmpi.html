<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Data Dictionary System: Developers Fortran Api (fdds_initmpi)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="keywords" 
      content="Data Dictionary System Free Seismic Processing System">
    <link href="../../styles.css" type="text/css" rel="stylesheet">
    <script src="../../javascript.js" language="JavaScript"
      type="text/javascript"></script>
    <script src="../index.js" language="JavaScript" type="text/javascript">
    </script>
  </head>
  <body>
    <script type="text/javascript">
      header("developers","fapi","initmpi")
    </script>
    <!*********************************************************************>
    <script type="text/javascript">index_header("fapi")</script>

    <h2>fdds_initmpi - initialize the DDS system for MPI parallelization</h2>
    <hr>
    <h2>SYNOPSIS</h2>
    <b>#include &lt;mpif.h&gt;</b>
    <p>
    <b>integer fdds_initmpi(</b><i>node, nodes</i><b>)</b>
    <dl><dd>
        <b>integer</b> <i>node </i><br>
	<b>integer</b> <i>nodes</i>
    </dl>

    <h2>DESCRIPTION</h2>
    <b>fdds_initmpi</b> is used to initialize the DDS system for MPI
    parallelization. It determines the number of MPI nodes used and the
    node number (0 through nodes-1) for the current process.  
    If MPI is available on the current system MPI is initialized with the 
    MPI_Init call. The node with rank=0 then passes
    all the command line parameters to all other nodes to ensure all nodes
    "see" the exact same parameters (since MPI does not guarantee that). 
    If MPI is not available, it simply checks that "np=1".
    The "par:" dictionary is set for scanning upon exiting this routine.
    Any node with rank .gt. 0 will close dictionaries that have been opened
    for printing. The return value is alway 0.

    <p>
      <u><code>NOTE:</code></u> you will have to define this function for yourself 
      because it cannot be defined in fdds.h (because it would try to use the
      parallel routines for all codes).  So add "integer fdds_initmpi" to any 
      routine that uses it. <u>Also</u> note that you need the extra,
      <b>#include &lt;mpif.h&gt;</b>, include file for any of the mpi
      routines.

    <h2>SEE ALSO</h2>
    <pre>
      <a href="initmpix.html">fdds_initmpix</a>  Initialize DDS for MPIX
      <a href="initopenmp.html">fdds_initopenmp</a>  Initialize DDS for OpenMP
    </pre>

    <h2>EXAMPLES</h2>
    Initializes MPI in a DDS application - F77:
    <pre>
      #include &lt;mpif.h&gt;
      #include &lt;fdds.h&gt;
      
      integer rank, np, ier
      integer fdds_initmpi

      ier = fdds_initmpi(rank, np)
    </pre>

    <p>
    Initializes MPI in a DDS application using modules:
    <pre>
      use mpi
      use dds

      integer :: rank, np, ier
      
      ier = fdds_initmpi(rank, np)
    </pre>

    <h2>AUTHOR</h2>
    Jerry Ehlers, <b>BP America</b> (Feb 2006)

    <script type="text/javascript">index_footer()</script>
    <!*********************************************************************>
    <script type="text/javascript">footer()</script>
  </body>
</html>
