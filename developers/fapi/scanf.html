<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Data Dictionary System: Developers Fortran Api (fdds_scanf)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="keywords" 
      content="Data Dictionary System Free Seismic Processing System">
    <link href="../../styles.css" type="text/css" rel="stylesheet">
    <script src="../../javascript.js" language="JavaScript"
      type="text/javascript"></script>
    <script src="../index.js" language="JavaScript" type="text/javascript">
    </script>
  </head>
  <body>
    <script type="text/javascript">
      header("developers","fapi","scanf")
    </script>
    <!*********************************************************************>
    <script type="text/javascript">index_header("fapi")</script>

    <h2>fdds_scanf - retrieve definition from DDS dictionary</h2>
    <hr>
    <h2>SYNOPSIS</h2>
    <b>#include &lt;fdds.h&gt;</b> (fixed-format sources) <br>
    <b>#include &lt;f90dds.h&gt;</b> (free-format sources)
    <p>
    <b>integer function fdds_scanf(</b><i>alias, fmt, ...</i>)
      </i><dl><dd>
        <b>character*(*) </b><i>alias
        </i><br>
        <b>character*(*) </b><i>fmt
        </i></dl>

    <h2>DESCRIPTION</h2>
    <b>fdds_scanf</b> retrieves a definition from a dictionary. The "scan"
    dictionary(s) must have been previously selected by 
    <a href="dict.html">fdds_dict</a>, or related function. The name of the
    definition is specified by <i>alias</i>.

    <p>
      A new definition may be selected for retrieval. Multiple names,
      delimited by white space, may be specified by <i>alias</i>.
      If a name is specified, the "scan" dictionaries are searched.
      Dictionaries are scanned from bottom-to-top and right-to-left.
      The newest definition that matches any <i>alias</i> is selected.
      The function returns EOF, if no match is found.

    <p>
      The current "scan" definition is accessed, if a blank <i>alias</i> is
      specified. The value is processed, starting from the current position.
      The function returns EOF, if a "scan" definition is not already
      selected.

    <p>
      <b>fdds_scanf</b> is controlled by a format string and optional
      arguments. Processing begins at the current position in the
      definition value. Characters are matched and converted, as specified
      by the ANSI C standard for the stdio <b>scanf</b> function.
      The current position is advanced as the format is processed.
      The function returns the number of arguments converted and assigned.
      It returns EOF, if conversion fails prior to the first assignment.

    <p>
      Dictionaries may contain <i>alias</i> definitions. They define
      alternate names for "older" definitions. <i>alias</i> definitions are
      denoted by a special prefix, "<b>alias:</b><i>defn_name</i>" or
      "<b>$</b><i>defn_name</i>". The value of an <i>alias</i> definition
      is a list of alternate names.

    <p>
      <i>fmt</i> and optional arguments control the processing of
      definition values. The rules correspond to the <b>scanf</b> function
      in the ANSI C standard. Values should not contain "<b>=</b>" (unless
      escaped).

    <p>
      Format strings <b><u>MUST</u></b> be terminated with a null character
      ('\0').
      
    <p>
      The following table summarizes conversion specifiers
      recognized within <i>fmt</i>, but see the "C" manual for more detail.
    <pre>
fmt                     modifiers
char      Data type   h     l      L          *         I/O type
----      ---------   --------------------------------  --------------------
 u        integer     short long   longlong   suppress  unsigned
 d        integer     short long   longlong   suppress  decimal
 o        integer     short long   longlong   suppress  octal
 x        integer     short long   longlong   suppress  hexadecimal
 i        integer     short long   longlong   suppress  dec,oct,hex
 n        integer     short long   longlong   suppress  (returns # characters)
 c        characters  NA    NA     NA         suppress  (reads spaces also)
 s        string      NA    NA     NA         suppress  (skips initial spaces)
 p        pointer     NA    NA     NA         suppress
 e, f, g  real        NA    double longdouble suppress
 [...]    character   NA    NA     NA         suppress
 [^...]   character   NA    NA     NA         suppress
 %        NA          NA    NA     NA         NA        (literal "%")
        </pre>
    
    <b>fdds_scanf</b> pads trailing blanks or truncates strings as needed
    during '%c', '%s' and '%[...]' conversion.
    Unlike "C", the maximum field width is not required to prevent string overflow.

    <h2>EXAMPLES</h2>
    <pre>
!     default "alpha" to 3.14, override if defined
      alpha = 3.14
      ier = fdds_scanf('alpha', '%f\0', alpha)
 
!     retrieve beta, using defn alias
      ier = fdds_scanf('beta BETA Beta', '%s\0', beta)
 
!     retrieve mixed data types (string, integer, float)
      ier = fdds_scanf('gamma', '%s %i %f\0', s, i, r)
 
!     retrieve 1st &amp; 2nd axis sizes
      ier  = fdds_scanf('size.axis(1)', '%i\0', nsmp)
      ier  = fdds_scanf('size.axis(2)', '%i\0', ntrc)
 
!     retrieve arbitrary number of float values
      ier = fdds_scanf('omega', '%f\0',omega(1))
      n = 0
      do while(ier.eq.1)
         n = n + 1
         ier = fdds_scanf(' ', '%f\0', omega(n+1))
      enddo

!     retrieve alias definition itself
      ier = fdds_scanf('$name', ' %s\0', alias)
    </pre>

    <h2>SEE ALSO</h2>
    <pre>
<a href="dict.html">fdds_dict</a> Select DDS dictionary and mode
<a href="scank.html">fdds_scank</a> Retrieve a definition
<a href="scant.html">fdds_scant</a> Retrieve a definition
<a href="scantn.html">fdds_scantn</a> Retrieve a definition
<a href="scanv.html">fdds_scanv</a> Retrieve a definition
    </pre>

    <h2>AUTHOR</h2>
    R. L. Selzler, <b>EPTG</b> (May, 1994)

    <script type="text/javascript">index_footer()</script>
    <!*********************************************************************>
    <script type="text/javascript">footer()</script>
  </body>
</html>
