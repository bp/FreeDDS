<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Data Dictionary System: Developers Fortran Api (fdds_read)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="keywords" 
      content="Data Dictionary System Free Seismic Processing System">
    <link href="../../styles.css" type="text/css" rel="stylesheet">
    <script src="../../javascript.js" language="JavaScript"
      type="text/javascript"></script>
    <script src="../index.js" language="JavaScript" type="text/javascript">
    </script>
  </head>
  <body>
    <script type="text/javascript">
      header("developers","fapi","read")
    </script>
    <!*********************************************************************>
    <script type="text/javascript">index_header("fapi")</script>

    <h2>fdds_read - read DDS binary data</h2>
    <hr>
    <h2>SYNOPSIS</h2>
    <b>#include &lt;fdds.h&gt;</b> (fixed-format sources) <br>
    <b>#include &lt;f90dds.h&gt;</b> (free-format sources)
    <p>
      <b>integer function fdds_read(</b><i>bin, tag, buf, count</i><b>)
      </b><dl><dd>
        <b>integer </b><i>bin
        </i><br>
        <b>integer </b><i>tag
        </i><br>
        <b>integer </b><i>buf(*)
        </i><br>
        <b>integer </b><i>count
        </i></dl>

    <h2>DESCRIPTION</h2>
    This function reads data from a binary stream, into a buffer.

    <h2>INPUT</h2>
    <i>bin</i> is a binary tag, previously obtained from 
    <a href="open.html">fdds_open</a>. It specifies a particular binary 
    stream.

    <p>
      <i>tag</i> is a field tag, previously obtained, for example, from 
      <a href="member.html">fdds_member</a>. It specifies a tag associated
      with <i>bin</i>. This provides a scale factor for <i>count</i>.
      If <i>tag</i> is zero (nominal), it defaults to the <i>SEQUENCE</i> 
      (trace type) associated with <i>bin</i>.

    <p>
      Data is read into <i>buf</i>. The minimum size is <i>count</i>
      times the size of <i>tag</i>.

    <h2>OUTPUT</h2>
    A byte sequence from the stream is copied into the buffer no
    conversions are performed. The return value is the number of types
    actually read, or EOF if an error occurred before any transfer.

    <h2>EXAMPLES</h2>
    In fixed-format Fortran:
    <pre>
      #include &lt;fdds.h&gt;
      integer in_bin
      integer buf(*)
      ...
!     read 10 traces into type buffer
      j = fdds_read(in_bin, 0, buf, 10)
    </pre>

    <p>
    In free-format F90:
    <pre>
      #include &lt;f90dds.h&gt;
      integer in_bin
      integer buf(*)
      ...
!     read 10 traces into type buffer
      j = fdds_read(in_bin, 0, buf, 10)
    </pre>

    <p>
    Using the DDS module:<br>
    (Note that the DDS module requires that data arrays passed to I/O
    functions be 1 dimensional.)

    <pre>
      use dds
      
      integer :: in_bin, nsmp, ntrc, itrc
      real, allocatable :: buffer(:,:)
      
      allocate(buffer(nsmp, ntrc))
      ! read 10 traces into buffer
      do itrc=1,10
        ier = fdds_read(in_bin, 0, buffer(:,itrc), 1)
      enddo
    </pre>

    <h2>SEE ALSO</h2>
    <pre>
<a href="readm.html">fdds_readm</a> Read &amp; map
<a href="write.html">fdds_write</a> Write data
<a href="writem.html">fdds_writem</a> Map &amp; write
    </pre>

    <h2>AUTHOR</h2>
    R. L. Selzler, <b>EPTG</b> (May, 1994)

    <script type="text/javascript">index_footer()</script>
    <!*********************************************************************>
    <script type="text/javascript">footer()</script>
  </body>
</html>
