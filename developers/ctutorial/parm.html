<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Data Dictionary System: Developers "C" Tutorial (Parameters)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="keywords" 
      content="Data Dictionary System Free Seismic Processing System">
    <link href="../../styles.css" type="text/css" rel="stylesheet">
    <script src="../../javascript.js" language="JavaScript"
      type="text/javascript"></script>
  </head>
  <body>
    <script type="text/javascript">
      header("developers","ctutorial","parm")
    </script>
    <!*********************************************************************>

    <p>
      Use <a href="../capi/dict.html">cdds_dict</a> to scan parameters from
      the "<code>par:</code>" dictionary.  This will allow you to retrieve
      command line and par file parameters which we call "local parameters".
      Scanning for parameters from an input dictionary will retrieve
      parameters from the historical part of the dictionary as well as the
      command line and par file parameters which we call "global
      parameters".  So make sure you setup to scan the "<code>par:</code>"
      dictionary when retrieving local parameters associated with just the
      current processing step with:

    <pre>
      <a href="../capi/dict.html">cdds_dict</a>("par:", "scan");
    </pre>

    <p>
      Now you are ready to scan any of the program parameters with the
      scan routines.  There are several ways of setting up parameters. 
     
    <ul>
      <li>Setup a default value which can be overridden:
        <pre>
alpha = 3.14
<a href="../capi/scanf.html">cdds_scanf</a>("alpha", "%f", &amp;alpha);</pre>

      <li>Check to make sure a value is specified when there is no default:
        <pre>
if (<a href="../capi/scanf.html">cdds_scanf</a>("beta", "%f", &amp;beta) != 1) {
   <a href="../capi/prterr.html">cdds_prterr</a>("No value given for 'beta'\n");
}</pre>

      <li>Scan for a parameter which could have multiple alias names:
        <pre>
<a href="../capi/scanf.html">cdds_scanf</a>("gamma Gamma GAMMA", "%f", &amp;gamma);</pre>

      <li>Retrieve arbitrary number of values (<u><b>NOTE</b></u> that a
        new definition is selected if an <i>alias</i> is specified for 
        cdds_scanf; otherwise the scan will continue after the previous
        value):
        <pre>
float *delta;
...
n = cdds_scank("delta", " ");
delta = (float*)<a href="../capi/malloc.html">cdds_malloc</a>(n*sizeof(float));
<a href="../capi/scanf.html">cdds_scanf</a>("delta", "");
for (i=0;i&lt;n;i++) {
   <a href="../capi/scanf.html">cdds_scanf</a>("", "%f", &amp;delta[i]);
}</pre>

      <li>Retrieve different data types (<u><b>NOTE</b></u> that it is 
        safer to use "<code>%d</code>" that it is to use "<code>%i</code>"
        because if a user specifies a number with a preceding zero then it
        will be interpreted as an octal value instead of a decimal value):
        <pre>
int num;
float value;
char text[80];
...
<a href="../capi/dict.html">cdds_scanf</a>("num", "%d", &amp;num);
<a href="../capi/scanf.html">cdds_scanf</a>("value", "%f", &amp;value);
<a href="../capi/scanf.html">cdds_scanf</a>("name", "%80s", text);
/* or read mixed types from a single definition */
<a href="../capi/scanf.html">cdds_scanf</a>("omega", "%d %f %80s", &amp;num, &amp;value, text);</pre>

      <li>Scan for a switch (a switch is normal off be default and simply
        specifying the name without a value will turn it on; or the user
        can explicitly specify a logical value):
        <pre>
int inverse;
...
inverse = <a href="../capi/switch.html">cdds_switch</a>("inverse", 0);</pre>

    </ul>
 
    <!*********************************************************************>
    <script type="text/javascript">footer()</script>
  </body>
</html>
