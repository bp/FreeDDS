<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Data Dictionary System: Developers Fortran Tutorial (Message Logging)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="keywords" 
      content="Data Dictionary System Free Seismic Processing System">
    <link href="../../styles.css" type="text/css" rel="stylesheet">
    <script src="../../javascript.js" language="JavaScript"
      type="text/javascript"></script>
  </head>
  <body>
    <script type="text/javascript">
      header("developers","ftutorial","log")
    </script>
    <!*********************************************************************>

    <p>
      By default, errors are printed to "<b>stderr:</b>" and execution is
      aborted, warnings are printed and debug conditions are printed.
      These messages can be muted and/or sent to a log file and execution
      can be aborted or continued.  Verbose messages and operator messages 
      can also be muted and/or sent to a log file. Control of DDS message
      printing and DDS program aborting are handled via the special "log:"
      dictionary.  The available flags are listed below.  Their values can
      either be "true" or "false".
    <pre>
<u>
Control Flags   Default   Function                         </u>
error_abort     true      abort program on error message  
warn_abort      false     abort program on warning message
debug_abort     false     abort program on debug message 
error_print     true      print error messages to stderr  
warn_print      true      print warning messages to stderr
debug_print     true      print debug messages to stderr 
verbose_print   (note)    print verbose messages to stderr 
operator_print  true      print operator messages to stderr 
error_log       false     print error messages to log:  
warn_log        false     print warning messages to log:  
debug_log       false     print debug messages to log: 
verbose_log     false     print verbose messages to log: 
operator_log    false     print operator messages to log: 

<b>NOTE:</b> verbose_print default is "true" iff "dds_debug" is
present on the command line or par file.  So you must turn it
off when not wanted with "dds_debug".  For example if you want
to check for Seg Fault errors without all the verbose messages:

     dds_debug= dbg_call -verbose
</pre>

    <p>
      To change any of these flags, write their new values to the "log:" 
      dictionary.  Suspending the "log:" dictionary causes dds to
      internally scan the dictionary and update the flags. Reseting the
      dictionary removes any accumulated log messages and resets all the
      control flags to their default values.

    <pre>
ier=fdds_dict('log:','print')
ier=fdds_printf('error_abort','false\n\0')
ier=fdds_printf('error_print','false\n\0')
ier=fdds_printf('error_log','true\n\0')
ier=fdds_dict('log:','suspend')
    </pre>

    <p>
      This can be useful in a "GUI" type program where the application can
      accumulate messages into the "log:" dictionary and then later read,
      display and clear the log of all these messages. For examples:

    <pre>
character*(DEFNNAME_MAX) defn,value
...
ier=fdds_dict('log:','scan')
defn=fdds_newer(' ',' ')
do while(defn.ne.' ')
   if (index(defn,'_msg').ge.1) then
      ier=fdds_scant(' ',value)
      do while (ier.gt.0) 
         write(*,*) value
         ier=fdds_scant(' ',value)
      enddo
   endif
   defn=fdds_newer(' ',' ')
enddo
ier=fdds_dict('log:','reset')
    </pre>

    <!*********************************************************************>
    <script type="text/javascript">footer()</script>
  </body>
</html>
