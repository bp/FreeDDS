<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Data Dictionary System: Developers Fortran Tutorial (Convenience Input)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="keywords" 
      content="Data Dictionary System Free Seismic Processing System">
    <link href="../../../styles.css" type="text/css" rel="stylesheet">
    <script src="../../../javascript.js" language="JavaScript"
      type="text/javascript"></script>
  </head>
  <body>
    <script type="text/javascript">
      header("developers","ftutorial","input","convenience")
    </script>
    <!*********************************************************************>

    <h2>Open Input Dataset</h2>

    <p>
      There are three Fortran Convenience routines for opening an input
      dataset. These routines simplify the process by hiding the opening
      of separate dictionaries and by hiding the extra internal binaries
      for the double buffering that's required.

    <p>
      <a href="../../fxapi/in.html">fddx_in</a> is called to open an input
      dataset, dropping any headers that may exist in the input file.

    <p>
      <a href="../../fxapi/in2.html">fddx_in2</a> is called to open an input
      dataset and pass any headers along in their native formats.  To get
      access to them, use any of the <a href="../../fapi/get.html">fdds_get</a>
      routines.

    <p>
      <a href="../../fxapi/inhdr.html">fddx_inhdr</a> is called to open an 
      input dataset with the ability to specifiy the format for the Samples
      and any specific headers so they can be indexed directly in the array.

    <pre>
      in_bin=<a href="../../fxapi/in.html">fddx_in</a>('in','stdin:',title)
      if (in_bin.lt.0) then
         ier=fdds_prterr('Unable to open input data\n\0')
      endif
c
      ier=fdds_scanf('size.axis(1)','%d\0',ns)
    </pre>

    <p>
      Or if headers are desired (e.g. SrPtXC &amp; SrPtYC) use something like:

    <pre>
      in_bin=<a href="../../fxapi/inhdr.html">fddx_inhdr</a>('in','stdin:',title,DDS_REAL,
     *                DDS_INTEGER,'SrPtXC SrPtYC')
      if (in_bin.lt.0) then
         ier=fdds_prterr('Unable to open input data\n\0')
      endif
c
    </pre>

    <! -------------------------------------------------------------------->
    <hr/>
    <h2>Access Internal Buffer Fields</h2>

    <p>
      Access to the fields are handled the same way with the convenience
      routines using the bin tag.

    <ul>
      <li>Retrieve the index to a specific field:
        <pre>
tag=<a href="../../fapi/member.html">fdds_member</a>(in_bin,0,'SrcX')
sxindex=<a href="../../fapi/index.html">fdds_index</a>(in_bin,tag,DDS_INTEGER)
tag=<a href="../../fapi/member.html">fdds_member</a>(in_bin,0,'Samples')
smpindex=<a href="../../fapi/index.html">fdds_index</a>(in_bin,tag,DDS_REAL)
...
srcx=ibuf(1+sxindex)
call process(buf(1+smpindex),...)
...
ibuf(sxindex)=srcx
        </pre>

      <li>Rerieve the field value by tag:
        <pre>
stacortag=<a href="../../fapi/member.html">fdds_member</a>(in_bin,0,'StaCor')
...
ier=<a href="../../fapi/get.html">fdds_geti</a>(in_bin,stacortag,buf,0,stacor,1)
        </pre>
    </ul>

    <!*********************************************************************>
    <script type="text/javascript">footer()</script>
  </body>
</html>
