<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Data Dictionary System: Developers "C" Api (cdds_dict)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="keywords" 
      content="Data Dictionary System Free Seismic Processing System">
    <link href="../../styles.css" type="text/css" rel="stylesheet">
    <script src="../../javascript.js" language="JavaScript"
      type="text/javascript"></script>
    <script src="../index.js" language="JavaScript" type="text/javascript">
    </script>
  </head>
  <body>
    <script type="text/javascript">
      header("developers","capi","dict")
    </script>
    <!*********************************************************************>
    <script type="text/javascript">index_header("capi")</script>

    <h2>
      cdds_dict - select DDS dictionary and mode.
    <hr></h2>
    <h2>SYNOPSIS</h2>
    <b>#include "cdds.h"
    </b><p>
    <b>int cdds_dict(</b><i>names, mode</i><b>);</b>
    <dl><dt><dd>
        <b>const char *</b> <i>names </i><br>
	<b>const char *</b> <i>mode </i>
    </dl>

    <p/>
      [ <a href="#description">Description</a>
      | <a href="#input">Input</a>
      | <a href="#output">Output</a>
      | <a href="#examples">Examples</a>
      ]
    <hr>

    <a name="description"></a><h2>DESCRIPTION</h2>
    <b>cdds_dict</b> opens, suspends, and closes access to parameter 
    dictionaries. It is used to switch between dictionaries during
    processing.

    <p/>
      NOTE: Other DDS API functions may implicitly call <b>cdds_dict</b>.
      If they change dictionary selection, their documentation
      <i>should</i> clearly say so. In particular see
      <a href="in.html">cdds_in</a>, <a href="out.html">cdds_out</a>,
      <a href="mod.html">cdds_mod</a> and <a href="open.html">cdds_open</a>.

    <p/>
      <b>cdds_scan...</b> reads definitions from the input dictionaries.
      Input dictionaries are selected by the most recent call to 
      <b>cdds_dict</b> with <b>"scan"</b> <i>mode</i>. Any dictionaries
      previously selected for scanning are supsended and replaced by
      <i>names</i>. Multiple dictionaries may be specified by <i>names</i>.
      Their precedence is left-to-right; the first dictionary has
      precedence over subsequent ones. If a name is not specified,
      subsequent <b>cdds_scan...</b> calls will return EOF.

    <p/>
      <b>cdds_print...</b> appends definitions to the output dictionary.
      The output dictionary is selected by the most recent call to 
      <b>cdds_dict</b> with <b>"print"</b> <i>mode</i>. Any dictionary 
      previously selected for printing is supsended and replaced by
      <i>names</i>. If multiple names are specified, only the first is
      selected. If a name is not specified, subsequent <b>cdds_print...</b>
      calls will return EOF.

    <p/>
      If the same dictionary is selected for both <i>scan</i> and
      <i>print</i> modes, the most recent request is honored.  This
      prevents a dictionary from being open for both input and output 
      simultaneously. Dictionaries don't need to be explicitly suspended
      when switching between <i>scan</i> and <i>print</i> modes.
      
    <a name="input"></a><h2>INPUT</h2>
    <i>Names</i> is a list of dictionaries names, delimited by white space.
    They may be filenames or special mnemonics (<b>stdin:, stdout:, cmd:,
      par:, env:, fd</b><i>n</i>, or <b>tmp</b><i>n</i><b>:</b>).
    Filenames may contain any printing character except '='.

    <pre>
dictionary   nominal initialization.
filename     Definitions read from filename.
stdin:       Definitions read from standard input.
stdout:      Definitions read from standard output.
cmd:         Command line definitions.
par:         Command line and "par= file ..." definitions.
env:         All environment variables.
fdn:         File descriptor n.
tmpxxx:      Empty, temporary dictionary xxx.
    </pre>

    <p/>
      <i>mode</i> determines the subsequent mode of the named dictionary(s).
      It also controls initialization, when a dictionary is first selected.
      If <i>mode</i> is "<b>scan</b>", "<b>suspend</b>" or "<b>reset</b>",
      then existing (nominal) contents are preserved; if <i>mode</i> is 
      "<b>print</b>", then existing (nominal) contents are discarded 
      (empty). Initialization is only performed when 
      changing a dictionary from <i>reset</i> (closed) to another mode. 
      Dictionaries may also be <i>closed</i>, when no longer needed. This
      implies initialization if accessed again.

     <p/>
      If <i>mode</i> is "<b>scan</b>", the named dictionaries are opened
      for scanning by the <b>cdds_scan...</b> routines.

    <p/>
      If <i>mode</i> is "<b>print</b>", the named dictionary is opened
      for appending new definitions into the dictionary by the 
      <b>cdds_print...</b> routines.

    <p/>
      If <i>mode</i> is "<b>suspend</b>", the named dictionaries are
      explicitly suspended from their current mode. Their contents are
      preserved for subsequent selection. This is done automatically if
      the dictionary has not been referenced by the most recent
      <b>"scan"</b> or  <b>"print"</b><i> mode</i>.

    <p/>
      If <i>mode</i> is "<b>reset</b>", the named dictionaries are
      explicitly reset. If they are subsequently selected, their contents
      are re-initialized. All dictionaries are implicitly reset, when a
      process terminates normally. The "<b>close</b>" keyword for 
      <i>mode</i> is deprecated because its less intuitive than "reset".

    <p/>
      If <i>mode</i> is "<b>freeze</b>", the named dictionaries are
      frozen from any further modification.  This is done internally by
      DDS to prevent redefining the binary after the dataset is opened.

    <pre>
<u> mode       access    initialization</u>
"scan"      input     preserve contents
"print"     output    discard contents
"suspend"   none      temporary suspend
"reset"     none      close dictionary
"close"     none      same as "reset"
"freeze"    none      freeze contents
    </pre>

    <a name="output"></a><h2>OUTPUT</h2>
    The dictionaries currently open for input and output may be changed.
    The current definition is reset, so additional values may not be 
    appended or retrieved. The function returns a non-zero value if an 
    error is detected, and zero otherwise.

    <p/>
      Dictionary resources are not released, until a dictionary is 
      explicitly closed. This includes file descriptors and about two words
      of memory for each definition. Some dictionaries may have binary data
      attached to them. Once opened, they should not be closed, until the
      binary stream is opened.

     <a name="examples"></a><h2>EXAMPLES</h2>
    <pre>
int j;

/* select "foo_dict" dictionary for printing */
j = cdds_dict("foo_dict", "print");

/* select two dictionaries for scanning */
j = cdds_dict("par:   bar_dict", "scan");
    </pre>

    <h2>SEE ALSO</h2>
    <pre>
<a href="in.html">cdds_in</a> Initialize dictionary for input data
<a href="out.html">cdds_out</a> Initialize dictionary for output data
<a href="mod.html">cdds_mod</a> Initialize dictionary for modify data
    </pre>

    <h2>AUTHOR</h2>
    R. L. Selzler, <b>EPTG</b> (Oct 1995)

    <script type="text/javascript">index_footer()</script>
    <!*********************************************************************>
    <script type="text/javascript">footer()</script>
  </body>
</html>
